%YAML 1.1
%TAG !u! tag:unity3d.com,2011:
--- !u!114 &11400000
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 7a686a47eee2fa44cb0a34b5d86e4d5e, type: 3}
  m_Name: DetermineSight
  m_EditorClassIdentifier: 
  _serializedGraph: '{"type":"NodeCanvas.BehaviourTrees.BehaviourTree","nodes":[{"_position":{"x":450.0,"y":420.0},"_comment":"Need:\n-
    A reference to the sighted character\n- Current visibility of sighted character\n\t-
    This should build over time relative to character visibilty..\n\t- i.e. if character
    is sneaking and in shadow then reduce\n\t- or if walking in open then build quickly.\n\t-
    Also factor in distance\n\nFlow:\n- Run one time.\n- Get closest visible character\n-
    Loop\n\t- Increment/Decrement visibility value based on character visibility
    status\n\t- Break when visibility value = 0 or 1\n- If 0 exit to idle\n- if 1
    exit to chase","$type":"NodeCanvas.BehaviourTrees.Sequencer","$id":"0"},{"_action":{"actions":[{"saveAs":{"_name":"sightedCharacter","_targetVariableID":"ff79b42e-577b-4b10-b307-e6010d890463"},"targets":{"_name":"possibleTargets","_targetVariableID":"d5d0504c-dccc-4634-adaa-66f66b3a91b0"},"maxDistance":{"_name":"MaxViewDistance","_targetVariableID":"6d62dc6a-7eee-4287-8471-b72a79dc074f"},"visibleLayers":{"_name":"visibleLayers","_targetVariableID":"91ccb5c8-5bb7-4191-93ae-4a48159ecb64"},"awarnessDistance":{"_name":"MaxAwarnessDistance","_targetVariableID":"8905a96a-a309-4100-8985-453619e0ef44"},"offset":{"_name":"ViewOffset","_targetVariableID":"53d76f3c-0589-4700-b78b-10aeb78e7c17"},"viewAngle":{"_name":"ViewAngle","_targetVariableID":"f646c989-7d58-4141-bfda-4ef89d5dd951"},"$type":"NodeCanvas.Tasks.Actions.GetClosestVisibleCharacter"},{"valueA":{"_name":"visibility","_targetVariableID":"dbf4931e-5d1b-4f65-a795-ebd6c0f6e159"},"valueB":{},"$type":"NodeCanvas.Tasks.Actions.SetFloat"}],"$type":"NodeCanvas.Framework.ActionList"},"_position":{"x":-75.0,"y":540.0},"$type":"NodeCanvas.BehaviourTrees.ActionNode","$id":"1"},{"_action":{"actions":[{"target":{"_name":"sightedCharacter","_targetVariableID":"ff79b42e-577b-4b10-b307-e6010d890463"},"speed":{"_value":5.0},"angleDifference":{"_value":5.0},"upVector":{"_value":{"y":1.0}},"$type":"NodeCanvas.Tasks.Actions.RotateTowards"},{"targetPosition":{"_name":"myTransform","_targetVariableID":"142ded4b-4ce4-47cd-900f-d5b9a5f2b1a0"},"speed":{"_name":""},"keepDistance":{},"$type":"NodeCanvas.Tasks.Actions.MoveToPosition"}],"$type":"NodeCanvas.Framework.ActionList"},"_position":{"x":255.0,"y":570.0},"$type":"NodeCanvas.BehaviourTrees.ActionNode","$id":"2"},{"timeout":{"_value":10.0},"_position":{"x":480.0,"y":600.0},"$type":"NodeCanvas.BehaviourTrees.Timeout","$id":"3"},{"repeaterMode":1,"repeatTimes":{"_value":1},"_position":{"x":465.0,"y":720.0},"$type":"NodeCanvas.BehaviourTrees.Repeater","$id":"4"},{"_position":{"x":465.0,"y":885.0},"$type":"NodeCanvas.BehaviourTrees.Sequencer","$id":"5"},{"_condition":{"target":{"_name":"sightedCharacter","_targetVariableID":"ff79b42e-577b-4b10-b307-e6010d890463"},"layermask":{"_name":"visibleLayers","_targetVariableID":"91ccb5c8-5bb7-4191-93ae-4a48159ecb64"},"maxDistance":{"_name":"MaxViewDistance","_targetVariableID":"6d62dc6a-7eee-4287-8471-b72a79dc074f"},"awarnessDistance":{"_name":"MaxAwarnessDistance","_targetVariableID":"8905a96a-a309-4100-8985-453619e0ef44"},"offset":{"_name":"ViewOffset","_targetVariableID":"53d76f3c-0589-4700-b78b-10aeb78e7c17"},"viewAngle":{"_name":"ViewAngle","_targetVariableID":"f646c989-7d58-4141-bfda-4ef89d5dd951"},"_invert":true,"$type":"NodeCanvas.Tasks.Conditions.CanSeeTarget"},"_position":{"x":-75.0,"y":915.0},"$type":"NodeCanvas.BehaviourTrees.ConditionalEvaluator","$id":"6"},{"_action":{"actions":[{"valueA":{"_name":"visibility","_targetVariableID":"dbf4931e-5d1b-4f65-a795-ebd6c0f6e159"},"valueB":{},"$type":"NodeCanvas.Tasks.Actions.SetFloat"},{"method":{"_baseInfo":"Enemy|StopSightLine|System.Void","_paramsInfo":""},"parameters":[],"returnValue":{},"$type":"NodeCanvas.Tasks.Actions.ExecuteFunction_Multiplatform"},{"finishStatus":0,"$type":"NodeCanvas.Tasks.Actions.ForceFinishGraph"}],"$type":"NodeCanvas.Framework.ActionList"},"_position":{"x":-60.0,"y":1020.0},"$type":"NodeCanvas.BehaviourTrees.ActionNode","$id":"7"},{"_action":{"method":{"_baseInfo":"Enemy|CalculateChanceToSeeTarget|System.Single","_paramsInfo":"Character"},"parameters":[{"_type":"Character","_name":"sightedCharacter","_targetVariableID":"ff79b42e-577b-4b10-b307-e6010d890463"}],"returnValue":{"_type":"System.Single","_value":{"$content":0.0,"$type":"System.Single"},"_name":"_v"},"$type":"NodeCanvas.Tasks.Actions.ExecuteFunction_Multiplatform"},"_position":{"x":165.0,"y":1020.0},"$type":"NodeCanvas.BehaviourTrees.ActionNode","$id":"8"},{"_action":{"valueA":{"_name":"visibility","_targetVariableID":"dbf4931e-5d1b-4f65-a795-ebd6c0f6e159"},"Operation":1,"valueB":{"_name":"_v"},"perSecond":true,"$type":"NodeCanvas.Tasks.Actions.SetFloat"},"_position":{"x":285.0,"y":1095.0},"$type":"NodeCanvas.BehaviourTrees.ActionNode","$id":"9"},{"_action":{"method":{"_baseInfo":"Enemy|DrawSightLineToTarget|System.Void","_paramsInfo":"Character|System.Single"},"parameters":[{"_type":"Character","_name":"sightedCharacter","_targetVariableID":"ff79b42e-577b-4b10-b307-e6010d890463"},{"_type":"System.Single","_name":"visibility","_targetVariableID":"dbf4931e-5d1b-4f65-a795-ebd6c0f6e159"}],"returnValue":{},"$type":"NodeCanvas.Tasks.Actions.ExecuteFunction_Multiplatform"},"_position":{"x":330.0,"y":1170.0},"$type":"NodeCanvas.BehaviourTrees.ActionNode","$id":"10"},{"policy":1,"_position":{"x":735.0,"y":945.0},"$type":"NodeCanvas.BehaviourTrees.Parallel","$id":"11"},{"_condition":{"valueA":{"_name":"visibility","_targetVariableID":"dbf4931e-5d1b-4f65-a795-ebd6c0f6e159"},"checkType":2,"valueB":{},"differenceThreshold":0.0,"$type":"NodeCanvas.Tasks.Conditions.CheckFloat"},"_position":{"x":660.0,"y":1035.0},"$type":"NodeCanvas.BehaviourTrees.ConditionNode","$id":"12"},{"_condition":{"valueA":{"_name":"visibility","_targetVariableID":"dbf4931e-5d1b-4f65-a795-ebd6c0f6e159"},"checkType":1,"valueB":{"_value":100.0},"differenceThreshold":0.0,"$type":"NodeCanvas.Tasks.Conditions.CheckFloat"},"_position":{"x":780.0,"y":1035.0},"$type":"NodeCanvas.BehaviourTrees.ConditionNode","$id":"13"},{"_condition":{"valueA":{"_name":"visibility","_targetVariableID":"dbf4931e-5d1b-4f65-a795-ebd6c0f6e159"},"checkType":1,"valueB":{"_value":100.0},"differenceThreshold":0.0,"$type":"NodeCanvas.Tasks.Conditions.CheckFloat"},"_position":{"x":915.0,"y":585.0},"$type":"NodeCanvas.BehaviourTrees.BinarySelector","$id":"14"},{"_action":{"actions":[{"valueA":{"_name":"visibility","_targetVariableID":"dbf4931e-5d1b-4f65-a795-ebd6c0f6e159"},"valueB":{},"$type":"NodeCanvas.Tasks.Actions.SetFloat"},{"method":{"_baseInfo":"Enemy|StopSightLine|System.Void","_paramsInfo":""},"parameters":[],"returnValue":{},"$type":"NodeCanvas.Tasks.Actions.ExecuteFunction_Multiplatform"},{"valueA":{"_name":"CurrentTarget","_targetVariableID":"85abbc47-8277-448c-8c48-968a65df2d2c"},"valueB":{"_name":"sightedCharacter","_targetVariableID":"ff79b42e-577b-4b10-b307-e6010d890463"},"$type":"NodeCanvas.Tasks.Actions.SetVariable`1[[UnityEngine.Transform,
    UnityEngine.CoreModule, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null]]"}],"$type":"NodeCanvas.Framework.ActionList"},"_position":{"x":750.0,"y":705.0},"$type":"NodeCanvas.BehaviourTrees.ActionNode","$id":"15"},{"_action":{"actions":[{"valueA":{"_name":"visibility","_targetVariableID":"dbf4931e-5d1b-4f65-a795-ebd6c0f6e159"},"valueB":{},"$type":"NodeCanvas.Tasks.Actions.SetFloat"},{"method":{"_baseInfo":"Enemy|StopSightLine|System.Void","_paramsInfo":""},"parameters":[],"returnValue":{},"$type":"NodeCanvas.Tasks.Actions.ExecuteFunction_Multiplatform"},{"finishStatus":0,"$type":"NodeCanvas.Tasks.Actions.ForceFinishGraph"}],"$type":"NodeCanvas.Framework.ActionList"},"_position":{"x":1035.0,"y":705.0},"$type":"NodeCanvas.BehaviourTrees.ActionNode","$id":"16"}],"connections":[{"_sourceNode":{"$ref":"0"},"_targetNode":{"$ref":"1"},"$type":"NodeCanvas.BehaviourTrees.BTConnection"},{"_sourceNode":{"$ref":"0"},"_targetNode":{"$ref":"2"},"$type":"NodeCanvas.BehaviourTrees.BTConnection"},{"_sourceNode":{"$ref":"0"},"_targetNode":{"$ref":"3"},"$type":"NodeCanvas.BehaviourTrees.BTConnection"},{"_sourceNode":{"$ref":"0"},"_targetNode":{"$ref":"14"},"$type":"NodeCanvas.BehaviourTrees.BTConnection"},{"_sourceNode":{"$ref":"3"},"_targetNode":{"$ref":"4"},"$type":"NodeCanvas.BehaviourTrees.BTConnection"},{"_sourceNode":{"$ref":"4"},"_targetNode":{"$ref":"5"},"$type":"NodeCanvas.BehaviourTrees.BTConnection"},{"_sourceNode":{"$ref":"5"},"_targetNode":{"$ref":"6"},"$type":"NodeCanvas.BehaviourTrees.BTConnection"},{"_sourceNode":{"$ref":"5"},"_targetNode":{"$ref":"8"},"$type":"NodeCanvas.BehaviourTrees.BTConnection"},{"_sourceNode":{"$ref":"5"},"_targetNode":{"$ref":"9"},"$type":"NodeCanvas.BehaviourTrees.BTConnection"},{"_sourceNode":{"$ref":"5"},"_targetNode":{"$ref":"10"},"$type":"NodeCanvas.BehaviourTrees.BTConnection"},{"_sourceNode":{"$ref":"5"},"_targetNode":{"$ref":"11"},"$type":"NodeCanvas.BehaviourTrees.BTConnection"},{"_sourceNode":{"$ref":"6"},"_targetNode":{"$ref":"7"},"$type":"NodeCanvas.BehaviourTrees.BTConnection"},{"_sourceNode":{"$ref":"11"},"_targetNode":{"$ref":"12"},"$type":"NodeCanvas.BehaviourTrees.BTConnection"},{"_sourceNode":{"$ref":"11"},"_targetNode":{"$ref":"13"},"$type":"NodeCanvas.BehaviourTrees.BTConnection"},{"_sourceNode":{"$ref":"14"},"_targetNode":{"$ref":"15"},"$type":"NodeCanvas.BehaviourTrees.BTConnection"},{"_sourceNode":{"$ref":"14"},"_targetNode":{"$ref":"16"},"$type":"NodeCanvas.BehaviourTrees.BTConnection"}],"canvasGroups":[],"localBlackboard":{"_variables":{"sightedCharacter":{"_name":"sightedCharacter","_id":"ff79b42e-577b-4b10-b307-e6010d890463","$type":"NodeCanvas.Framework.Variable`1[[Character,
    Assembly-CSharp, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null]]"},"visibility":{"_name":"visibility","_id":"dbf4931e-5d1b-4f65-a795-ebd6c0f6e159","$type":"NodeCanvas.Framework.Variable`1[[System.Single,
    mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]]"},"myTransform":{"_propertyPath":"UnityEngine.Transform.transform","_name":"myTransform","_id":"142ded4b-4ce4-47cd-900f-d5b9a5f2b1a0","$type":"NodeCanvas.Framework.Variable`1[[UnityEngine.Transform,
    UnityEngine.CoreModule, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null]]"}}},"derivedData":{"repeat":true,"$type":"NodeCanvas.BehaviourTrees.BehaviourTree+DerivedSerializationData"}}'
  _objectReferences: []
  _graphSource:
    _version: 3.08
    _category: 
    _comments: 
    _translation: {x: 112, y: 154}
    _zoomFactor: 0.50453645
  _haltSerialization: 0
